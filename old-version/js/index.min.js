!function(t,u,m){"use strict";var a=m('[data-js="typeGameText"]').get(),n=m('[data-js="lotofacilButton"]').get(),o=m('[data-js="megaSenaButton"]').get(),s=m('[data-js="quinaButton"]').get(),c=m('[data-js="gameDescriptionText"]').get(),r={type:"",description:"",range:0,price:0,"max-number":0,color:"","min-cart-value":0},i=[],l=[],p=[],d=0;const f={"Lotofácil":"lotofacilTextStyle","Mega-Sena":"megaSenaTextStyle",Quina:"quinaTextStyle"},g={"Lotofácil":"lotofacilBorderColor","Mega-Sena":"megaSenaBorderColor",Quina:"quinaBorderColor"};function e(e){var t;switch(e.preventDefault(),e.target.getAttribute("data-js")){case"lotofacilButton":t="Lotofácil";break;case"megaSenaButton":t="Mega-Sena";break;case"quinaButton":t="Quina"}h(t)}function v(){y()}function S(){!function(){var e=u.querySelector('[data-js="numberOfGameArea"]');for(;l.length<r["max-number"];){var t=Math.ceil(Math.random()*(r.range-1));b(e.childNodes[t],!1)}}()}function y(){l.forEach(function(e){e.classList.remove("lotofacilBackgroundColor"),e.classList.remove("megaSenaBackgroundColor"),e.classList.remove("quinaBackgroundColor")}),l=[]}function L(t){return i.filter(function(e){return e.type===t})[0]}function h(e){switch(r=L(e),c.textContent=r.description,a.textContent=r.type,l=[],function(t){const e=m('[data-js="numberOfGameArea"]').get(),a=u.createDocumentFragment();for(let e=1;e<=t;e++){var n=u.createElement("button");n.classList.add("col-1","btn","numberCircleStyle","d-flex","justify-content-center"),n.textContent=("0"+e).slice(-2),n.addEventListener("click",x),a.appendChild(n)}e.innerHTML="",e.appendChild(a)}(r.range),r.type){case"Lotofácil":n.classList.add("lotofacilButtonSelectedStyle"),o.classList.remove("megaSenaButtonSelectedStyle"),s.classList.remove("quinaButtonSelectedStyle");break;case"Mega-Sena":n.classList.remove("lotofacilButtonSelectedStyle"),o.classList.add("megaSenaButtonSelectedStyle"),s.classList.remove("quinaButtonSelectedStyle");break;case"Quina":n.classList.remove("lotofacilButtonSelectedStyle"),o.classList.remove("megaSenaButtonSelectedStyle"),s.classList.add("quinaButtonSelectedStyle")}}function x(e){e.preventDefault();e=e.target;-1!==l.indexOf(e)||l.length!==r["max-number"]?b(e,!0):t.alert("Você já selecionou o máximo de números permitidos para esse jogo !")}function b(e,t){var a="";switch(r.type){case"Lotofácil":a="lotofacilBackgroundColor";break;case"Mega-Sena":a="megaSenaBackgroundColor";break;case"Quina":a="quinaBackgroundColor"}var n=l.indexOf(e);if(-1!==n)return t&&(e.classList.remove(a),void l.splice(n,1));l.push(e),e.classList.add(a)}function j(){var e={selectedNumber:[],typeGame:"",price:0},t=l.map(function(e){return e.textContent});t.sort(),e.selectedNumber=t.reduce(function(e,t,a,n){return a!==n.length-1?e+t+", ":e+t+"."},""),e.typeGame=r.type,e.price=r.price,d+=e.price,E(),function(e){var t=u.createDocumentFragment(),a=m('[data-js="cartItensArea"]').get(),n=u.createElement("div"),o=u.createElement("div"),s=u.createElement("div"),c=u.createElement("div"),r=u.createElement("div"),i=u.createElement("span"),l=u.createElement("button"),d=u.createElement("i");o.classList.add("col-2"),s.classList.add("col-10"),c.classList.add("container","border-start","border-4","rounded-start",g[e.typeGame]),i.classList.add("selectedNumbersTextStyle"),r.classList.add("row"),d.classList.add("fa","fa-trash","iconDeleteStyle"),l.classList.add("btn","align-middle"),n.classList.add("row","px-3","align-items-center","mb-2","mt-2"),l.appendChild(d),l.setAttribute("data-js","deleteGameButton"),l.addEventListener("click",k),i.setAttribute("data-js","selectedNumbersText"),i.textContent=e.selectedNumber,r.appendChild(i);i=u.createElement("div");i.innerHTML=`
                <div class="row">
                    <div class="col">
                        <span data-js="typeGameText" class="${f[e.typeGame]}">
                            ${e.typeGame}
                        </span>
                        <span class="gamePriceTextStyle"> R$ </span>
                        <span data-js="priceGame" class="gamePriceTextStyle"
                            >${e.price.toFixed(2)}</span
                        >
                    </div>
                </div>
            `,c.appendChild(r),c.appendChild(i),o.appendChild(l),s.appendChild(c),n.appendChild(o),n.appendChild(s),n.setAttribute("data-js",e.typeGame),p.push(n),t.appendChild(n),a.appendChild(t)}(e)}function B(e){if(e.preventDefault(),l.length<r["max-number"]){e=Number(r["max-number"])-l.length;return t.alert("Você ainda pode selecionar "+e+" número(s) !")}0===p.length&&m('[data-js="noItensTextRow"]').get().remove(),j(),y()}function C(){var e=m('[data-js="cartItensArea"]').get(),t=u.createElement("div");t.innerHTML=`<div class="row mb-3 mt-3 mx-2" data-js="noItensTextRow">
                                                <span class="noItensTextStyle">
                                                Ainda não há jogos adicionados no carrinho : (
                                                </span>
                                        </div>`,e.appendChild(t)}function k(e){e.preventDefault();var t=e.target.parentElement.parentElement.parentElement,a=t.getAttribute("data-js");e=t,t=p.indexOf(e),p.splice(t,1),e.remove(),d-=L(a).price,E(),0===p.length&&C()}function E(){m('[data-js="totalCartPrice"]').get().textContent=d.toFixed(2)}function T(){0<p.length&&(p.forEach(function(e){e.remove()}),d=0,E(),p=[],C(),t.alert("Seu jogos foram salvos com sucesso !"))}!function(){var e=new XMLHttpRequest;e.open("GET","./assets/games.json",!1),e.send();e=JSON.parse(e.responseText);i=e.types}(),h("Lotofácil"),m('[data-js="lotofacilButton"]').on("click",e),m('[data-js="megaSenaButton"]').on("click",e),m('[data-js="quinaButton"]').on("click",e),m('[data-js="clearGameButton"]').on("click",v),m('[data-js="completeGameButton"]').on("click",S),m('[data-js="addCartButton"]').on("click",B),m('[data-js="saveCartButton"]').on("click",T)}(window,document,window.DOM);